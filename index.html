<style>
  .ttooltip: {
  z-index: 99
  }
  </style>
<script src='deepScatter.js'></script>

<div class=scrollership>
  <div class=tale>
    <h1 style="color:red">"Deep Scatterplots"</h1>
  <div>
</div>

  <div id="deepscatter" style="position:fixed;top:0;left:0">

</div>

<header>Wuh-oh!</header>

Nurk!

<script>

  scatterplot = new deepScatter.default(
  {selector: "#deepscatter", source_url: "build"})
  scatterplot.initialize()
  scatterplot.plotAPI({
   point_size: 0.8,
   max_points: 1000000,
   label_threshold: .0,
   label_field: "yearday",
   color_field: "yearday",
   color_domain: [60, 110],
   basemap_geojson: "earth.topojson",
   filters: [
    "return datum.yearday <= 188"
  ],
  jitter: "spiral"
  })

  keyaction = function(val) {
    // This search function simply looks at every point and zooms
    // to them if it matches the string.
    const text = val.value
    scatterplot.plotAPI({
      filters: [
        text
      ]
    })
  }
</script>

<input type="text" style="position:fixed"
value=    "return datum.yearday < (Date.now()/1000)*4 % 60 + 50" size=60
onkeyup="keyaction(this)">

</input>
